{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/tonpredict/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { getFirebaseAuth } from \"@/lib/firebase\";\nimport { onAuthStateChanged } from \"firebase/auth\";\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [checking, setChecking] = useState(true);\n\n  const isLoginPage = pathname === \"/admin/login\";\n\n  useEffect(() => {\n    const auth = getFirebaseAuth();\n    if (!auth) {\n      setChecking(false);\n      return;\n    }\n\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      if (isLoginPage) {\n        if (user) {\n          router.replace(\"/admin\");\n        }\n        setChecking(false);\n        return;\n      }\n\n      if (!user) {\n        router.replace(\"/admin/login\");\n      }\n      setChecking(false);\n    });\n\n    return () => unsubscribe();\n  }, [isLoginPage, router]);\n\n  if (checking && !isLoginPage) {\n    return (\n      <div className=\"bg-background-dark min-h-screen flex items-center justify-center\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin\" />\n          <p className=\"text-primary/80 text-sm\">Checking authâ€¦</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;;AAEA;AAAA;;;AALA;;;;;AAOe,SAAS,YAAY,EAClC,QAAQ,EAGT;;IACC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,cAAc,aAAa;IAEjC,IAAA,0KAAS;iCAAC;YACR,MAAM,OAAO;YACb,IAAI,CAAC,MAAM;gBACT,YAAY;gBACZ;YACF;YAEA,MAAM,cAAc,IAAA,mLAAkB,EAAC;qDAAM,CAAC;oBAC5C,IAAI,aAAa;wBACf,IAAI,MAAM;4BACR,OAAO,OAAO,CAAC;wBACjB;wBACA,YAAY;wBACZ;oBACF;oBAEA,IAAI,CAAC,MAAM;wBACT,OAAO,OAAO,CAAC;oBACjB;oBACA,YAAY;gBACd;;YAEA;yCAAO,IAAM;;QACf;gCAAG;QAAC;QAAa;KAAO;IAExB,IAAI,YAAY,CAAC,aAAa;QAC5B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAA0B;;;;;;;;;;;;;;;;;IAI/C;IAEA,qBAAO;kBAAG;;AACZ;GAhDwB;;QAKP,kJAAS;QACP,oJAAW;;;KANN"}}]
}